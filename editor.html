<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Parallel ‚Äì Intelligent Editor</title>
  <link rel="stylesheet" href="editor.css">
</head>
<body>
  <!-- Header -->
  <header class="app-header">
    <div class="header-left">
      <span class="app-logo">Parallel</span>
      <div class="ai-status" id="aiStatus">
        <span class="status-dot"></span>
        Checking AI...
      </div>
    </div>
    
    <div class="header-center">
      <!-- Document Management - Cleaner Layout -->
      <div>
        <select id="documentSelector" class="btn-header">
          <option value="current">Current Document</option>
          <option value="new">+ New Document</option>
        </select>
        
        <button id="renameDocBtn" class="btn-header" title="Rename document">
          ‚úèÔ∏è
        </button>
        
        <button id="deleteDocBtn" class="btn-header" title="Delete document">
          üóëÔ∏è
        </button>
        
        <button id="saveDocBtn" class="btn-header primary" title="Save document">
          Save
        </button>
      </div>
      
      <div class="word-count">
        <span id="wordCount">0</span> words ¬∑ 
        <span id="charCount">0</span> characters
      </div>
    </div>
    
    <div class="header-right">
      <button id="previewBtn" class="btn-header">Preview</button>
      
      <select id="translateSelect" class="btn-header">
        <option value="">Translate</option>
        <option value="en">English</option>
        <option value="es">Spanish</option>
        <option value="fr">French</option>
        <option value="de">German</option>
        <option value="zh">Chinese</option>
        <option value="ja">Japanese</option>
        <option value="ar">Arabic</option>
      </select>
      
      <select id="exportSelect" class="btn-header">
        <option value="">Export</option>
        <option value="clipboard">Copy</option>
        <option value="html">HTML</option>
        <option value="docx">Word</option>
      </select>
    </div>
  </header>

  <main class="layout">
    <!-- Left Sidebar -->
    <aside class="left-pane">
      <!-- Generate Section -->
      <div class="generate-section">
        <h3>AI Generate</h3>
        
        <div class="streaming-toggle">
          <label>
            <input type="checkbox" id="showStreamingToggle" checked>
            <span>Show AI writing live</span>
          </label>
          <div class="toggle-hint">Watch AI think in real-time</div>
        </div>
        
        <button id="generateArticleBtn" class="generate-btn">
          Generate Content
        </button>
        <button id="continueBtn" class="generate-btn-secondary">
          Continue Writing
        </button>
      </div>

      <!-- Writing Analysis -->
      <div class="panel-section">
        <h3>Writing Analysis</h3>
        <button id="analyzeWritingBtn" class="style-dropdown">
          Analyze My Writing
        </button>
        
        <div id="analysisResults" style="display:none;"></div>
      </div>

      <!-- Writing Style -->
      <div class="panel-section">
        <h3>Writing Style</h3>
        <select id="writingTone" class="style-dropdown">
          <option value="professional">Professional</option>
          <option value="conversational">Conversational</option>
          <option value="academic">Academic</option>
          <option value="creative">Creative</option>
        </select>
      </div>

      <!-- Citation Format -->
      <div class="panel-section" id="citationPanel" style="display:none;">
        <h3>Citation Style</h3>
        <select id="citationFormat" class="style-dropdown">
          <option value="apa">APA Style</option>
          <option value="mla">MLA Style</option>
          <option value="chicago">Chicago Style</option>
          <option value="harvard">Harvard Style</option>
        </select>
      </div>

      <!-- Word Goal -->
      <div class="panel-section">
        <h3>Word Goal</h3>
        <input type="number" id="wordGoal" class="word-goal-input" placeholder="e.g., 500" min="0" />
        <div class="word-goal-progress" id="wordGoalProgress">
          <div class="word-goal-bar" id="wordGoalBar"></div>
        </div>
        <div class="word-goal-text" id="wordGoalText">No goal set</div>
      </div>
    </aside>

    <!-- Center Editor -->
    <section class="center-pane">
      <div>
        <input 
          id="articleTitle" 
          class="title-input" 
          placeholder="Enter your title..."
          autocomplete="off"
        />
        
        <select id="writingFormat">
          <option value="article">Article</option>
          <option value="blog">Blog Post</option>
          <option value="research">Research Paper</option>
        </select>
        
        <button id="generateTitleBtn" class="btn-header primary">
          Generate Title
        </button>
      </div>

      <!-- Progress Bar -->
      <div id="generationProgress" class="generation-progress" style="display:none;">
        <div class="progress-content">
          <div class="progress-text">
            <div class="progress-status">AI is writing...</div>
            <div class="progress-words"><span id="liveWordCount">0</span> words generated</div>
          </div>
        </div>
      </div>

      <!-- Editor -->
      <div class="editor-wrapper">
        <div 
          id="editor" 
          class="editor" 
          contenteditable="true" 
          spellcheck="true"
          data-placeholder="Start writing... Highlight text to use AI commands. Click where you want to continue and press 'Continue Writing'."
        ></div>
      </div>
    </section>

    <!-- Right Sidebar -->
    <aside class="right-pane">
      <!-- Chatbot -->
      <div class="panel-section">
        <h3>Ask Parallel</h3>
        <div class="chat-container" id="chatContainer">
          <div class="chat-messages" id="chatMessages">
            <div class="chat-welcome">
              Ask me anything about your writing!
            </div>
          </div>
        </div>
        <div class="chat-input-group">
          <textarea 
            id="chatInput" 
            class="chat-input"
            placeholder="Ask anything..."
            rows="2"
          ></textarea>
          <button id="chatSendBtn" class="chat-send-btn">Send</button>
        </div>
      </div>

      <!-- Sources -->
      <div class="panel-section">
        <h3>Captured Sources</h3>
        <div id="sourcesList"></div>
      </div>
    </aside>
  </main>

  <!-- Floating Toolbar -->
  <div id="floatingToolbar" class="floating-toolbar">
    <button class="toolbar-btn" data-action="paraphrase">Paraphrase</button>
    <button class="toolbar-btn" data-action="expand">Expand</button>
    <button class="toolbar-btn" data-action="shorten">Shorten</button>
    <button class="toolbar-btn" data-action="formal">Formal</button>
    <button class="toolbar-btn" data-action="casual">Casual</button>
    <button class="toolbar-btn" data-action="grammar">Grammar</button>
    <button class="toolbar-btn" data-action="proofread">Proofread</button>
    <button class="toolbar-btn" data-action="suggest">Suggest</button>
  </div>

  <!-- Loading Overlay -->
  <div id="loadingOverlay" class="loading-overlay">
    <div class="loading-spinner"></div>
    <div class="loading-text">AI is working...</div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast">
    <span id="toastIcon"></span>
    <div>
      <div id="toastTitle"></div>
      <div id="toastMessage"></div>
    </div>
  </div>

  <!-- Modal for Rename/Delete -->
  <div id="modalOverlay" class="modal-overlay">
    <div class="modal">
      <div class="modal-header" id="modalHeader">Modal Title</div>
      <div id="modalContent"></div>
    </div>
  </div>

  <script src="editor.js"></script>
</body>
</html>